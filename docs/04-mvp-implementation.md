# TapLive MVPå®ç°æŒ‡å—

## ğŸ¯ MVPåŠŸèƒ½æ¦‚è§ˆ

TapLive MVPæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ä½ç½®åŸºç¡€ç›´æ’­å¹³å°åŸå‹ï¼Œå±•ç¤ºäº†æ ¸å¿ƒå•†ä¸šé€»è¾‘å’ŒæŠ€æœ¯å¯è¡Œæ€§ã€‚æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å½“å‰å®ç°çš„åŠŸèƒ½ã€æŠ€æœ¯æ¶æ„å’Œä½¿ç”¨æ–¹æ³•ã€‚

## âœ… å½“å‰å®ç°åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

#### 1. è®¢å•ç®¡ç†ç³»ç»Ÿ
```typescript
// æ”¯æŒçš„è®¢å•æ“ä½œ
- âœ… åˆ›å»ºæ–°çš„ç›´æ’­è®¢å•
- âœ… æŸ¥çœ‹è®¢å•åˆ—è¡¨ï¼ˆåˆ†é¡µæ˜¾ç¤ºï¼‰
- âœ… æŸ¥çœ‹è®¢å•è¯¦ç»†ä¿¡æ¯
- âœ… æ›´æ–°è®¢å•çŠ¶æ€
- âœ… åˆ é™¤ä¸å½“è®¢å•ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
- âœ… åŸºäºåœ°ç†ä½ç½®çš„è®¢å•ç­›é€‰
```

#### 2. å®æ—¶ç›´æ’­åŠŸèƒ½
```typescript
// WebRTCç›´æ’­èƒ½åŠ›
- âœ… åŸç”Ÿæµè§ˆå™¨ç›´æ’­ï¼ˆæ— éœ€æ’ä»¶ï¼‰
- âœ… å‰åæ‘„åƒå¤´åˆ‡æ¢
- âœ… å®æ—¶è§†é¢‘æµä¼ è¾“
- âœ… å¤šè§‚ä¼—åŒæ—¶è§‚çœ‹
- âœ… ç›´æ’­çŠ¶æ€ç®¡ç†å’Œç›‘æ§
- âœ… è‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œæ¢å¤
```

#### 3. åœ°ç†ä½ç½®æœåŠ¡
```typescript
// ä½ç½®ç›¸å…³åŠŸèƒ½
- âœ… GPSåæ ‡è·å–å’Œå­˜å‚¨
- âœ… åœ°ç†ä½ç½®æ˜¾ç¤ºï¼ˆç»çº¬åº¦ï¼‰
- âœ… åŸºäºè·ç¦»çš„è®¢å•ç­›é€‰
- âœ… ä½ç½®æƒé™ç®¡ç†
- âœ… åœ°å›¾é›†æˆå‡†å¤‡ï¼ˆLeaflet.jsï¼‰
```

#### 4. å“åº”å¼ç”¨æˆ·ç•Œé¢
```typescript
// å¤šè®¾å¤‡æ”¯æŒ
- âœ… ç§»åŠ¨ç«¯ä¼˜åŒ–ç•Œé¢
- âœ… æ¡Œé¢ç«¯å®Œæ•´åŠŸèƒ½
- âœ… è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ
- âœ… è‡ªé€‚åº”å¸ƒå±€è®¾è®¡
- âœ… æš—è‰²/äº®è‰²ä¸»é¢˜åˆ‡æ¢
```

#### 5. å›½é™…åŒ–å¤šè¯­è¨€
```typescript
// æ”¯æŒè¯­è¨€
- âœ… è‹±è¯­ï¼ˆEnglishï¼‰ - é»˜è®¤è¯­è¨€
- âœ… ä¸­æ–‡ï¼ˆç®€ä½“ä¸­æ–‡ï¼‰
- âœ… æ—¥è¯­ï¼ˆæ—¥æœ¬èªï¼‰
- âœ… éŸ©è¯­ï¼ˆí•œêµ­ì–´ï¼‰
- âœ… è¥¿ç­ç‰™è¯­ï¼ˆEspaÃ±olï¼‰
```

## ğŸ—ï¸ æŠ€æœ¯å®ç°è¯¦æƒ…

### å‰ç«¯æ¶æ„å®ç°

#### æ ¸å¿ƒæŠ€æœ¯æ ˆ
```json
{
  "framework": "React 18.2.0",
  "language": "TypeScript 5.x",
  "buildTool": "Vite 4.x",
  "uiLibrary": "shadcn/ui",
  "styling": "Tailwind CSS 3.x",
  "routing": "Wouter",
  "stateManagement": "TanStack React Query",
  "formHandling": "React Hook Form + Zod"
}
```

#### ç»„ä»¶ç»“æ„
```
client/src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                     # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ form.tsx
â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â””â”€â”€ toast.tsx
â”‚   â”œâ”€â”€ video/                  # è§†é¢‘ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ live-stream-card.tsx
â”‚   â”‚   â””â”€â”€ native-webrtc-broadcaster.tsx
â”‚   â”œâ”€â”€ orders/                 # è®¢å•ç›¸å…³ç»„ä»¶
â”‚   â”‚   â””â”€â”€ order-form.tsx
â”‚   â”œâ”€â”€ layout/                 # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â””â”€â”€ mobile-nav.tsx
â”‚   â””â”€â”€ T.tsx                   # ç¿»è¯‘ç»„ä»¶
â”œâ”€â”€ pages/                      # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ home.tsx               # é¦–é¡µï¼ˆè®¢å•åˆ—è¡¨ï¼‰
â”‚   â”œâ”€â”€ create.tsx             # åˆ›å»ºè®¢å•é¡µ
â”‚   â”œâ”€â”€ orders.tsx             # è®¢å•ç®¡ç†é¡µ
â”‚   â””â”€â”€ stream.tsx             # ç›´æ’­è§‚çœ‹é¡µ
â”œâ”€â”€ hooks/                      # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ useSimpleTranslation.ts
â”‚   â””â”€â”€ use-toast.ts
â””â”€â”€ lib/                        # å·¥å…·å‡½æ•°
    â”œâ”€â”€ api.ts
    â”œâ”€â”€ queryClient.ts
    â””â”€â”€ utils.ts
```

#### WebRTCå®ç°
```typescript
// æ ¸å¿ƒWebRTCç»„ä»¶åŠŸèƒ½
const NativeWebRTCBroadcaster = () => {
  const [isStreaming, setIsStreaming] = useState(false)
  const [isConnected, setIsConnected] = useState(false)
  const [needsUserClick, setNeedsUserClick] = useState(false)
  
  // æ ¸å¿ƒåŠŸèƒ½å®ç°
  const startBroadcast = async () => {
    const stream = await navigator.mediaDevices.getUserMedia({
      video: { facingMode },
      audio: true
    })
    videoRef.current.srcObject = stream
    setIsStreaming(true)
  }
  
  const switchCamera = () => {
    setFacingMode(prev => prev === 'user' ? 'environment' : 'user')
  }
  
  // çŠ¶æ€ç›‘æ§å’Œè‡ªåŠ¨æ¢å¤
  const checkVideoState = () => {
    if (videoRef.current?.paused && !needsUserClick) {
      setNeedsUserClick(true) // è§¦å‘ç”¨æˆ·äº¤äº’
    }
  }
}
```

### åç«¯æ¶æ„å®ç°

#### æŠ€æœ¯æ ˆè¯¦æƒ…
```json
{
  "runtime": "Node.js 20.x",
  "framework": "Express.js 4.x", 
  "language": "TypeScript 5.x",
  "database": "PostgreSQL 15.x",
  "orm": "Drizzle ORM",
  "realtime": "WebSocket (ws)",
  "validation": "Zod"
}
```

#### APIæ¥å£å®ç°
```typescript
// RESTful APIå®ç°
app.get('/api/orders', async (req, res) => {
  const orders = await storage.getOrders()
  res.json({ success: true, data: orders })
})

app.post('/api/orders', async (req, res) => {
  const validatedData = insertOrderSchema.parse(req.body)
  const newOrder = await storage.createOrder(validatedData)
  res.json({ success: true, data: newOrder })
})

app.delete('/api/orders/:id', async (req, res) => {
  await storage.deleteOrder(req.params.id)
  res.json({ success: true, message: 'Order deleted successfully' })
})
```

#### WebSocketå®ç°
```typescript
// å®æ—¶é€šä¿¡æœåŠ¡å™¨
const wss = new WebSocketServer({ 
  server: httpServer, 
  path: '/ws' 
})

wss.on('connection', (ws) => {
  console.log('WebSocket client connected')
  
  ws.on('message', (data) => {
    const message = JSON.parse(data.toString())
    
    switch (message.type) {
      case 'broadcaster-ready':
        // å¹¿æ’­å™¨å‡†å¤‡å°±ç»ª
        broadcastToViewers(message.streamId, {
          type: 'stream-available',
          streamId: message.streamId
        })
        break
        
      case 'viewer-join':
        // è§‚ä¼—åŠ å…¥ç›´æ’­
        console.log(`Viewer joined stream: ${message.streamId}`)
        break
    }
  })
})
```

### æ•°æ®åº“å®ç°

#### æ ¸å¿ƒè¡¨ç»“æ„
```typescript
// ç”¨æˆ·è¡¨å®šä¹‰
export const users = pgTable('users', {
  id: varchar('id').primaryKey(),
  username: varchar('username').unique().notNull(),
  email: varchar('email').unique().notNull(),
  name: varchar('name').notNull(),
  avatar: varchar('avatar'),
  role: varchar('role').$type<'creator' | 'provider'>().notNull(),
  rating: decimal('rating', { precision: 3, scale: 2 }),
  totalRatings: integer('total_ratings').default(0),
  completedOrders: integer('completed_orders').default(0),
  createdAt: timestamp('created_at').defaultNow(),
})

// è®¢å•è¡¨å®šä¹‰
export const orders = pgTable('orders', {
  id: varchar('id').primaryKey(),
  title: varchar('title').notNull(),
  description: text('description'),
  creatorId: varchar('creator_id').references(() => users.id),
  providerId: varchar('provider_id').references(() => users.id),
  latitude: decimal('latitude', { precision: 10, scale: 7 }).notNull(),
  longitude: decimal('longitude', { precision: 10, scale: 7 }).notNull(),
  price: decimal('price', { precision: 10, scale: 2 }).notNull(),
  currency: varchar('currency').default('USD'),
  status: orderStatusEnum.notNull(),
  type: orderTypeEnum.notNull(),
  createdAt: timestamp('created_at').defaultNow(),
})
```

#### æ•°æ®å­˜å‚¨å®ç°
```typescript
// å†…å­˜å­˜å‚¨å®ç°ï¼ˆMVPé˜¶æ®µï¼‰
export class MemStorage implements IStorage {
  private orders = new Map<string, Order>()
  private users = new Map<string, User>()
  
  async createOrder(orderData: InsertOrder): Promise<Order> {
    const id = `${orderData.title.toLowerCase().replace(/\s+/g, '-')}-stream`
    const order: Order = {
      ...orderData,
      id,
      createdAt: new Date(),
      updatedAt: new Date(),
    }
    this.orders.set(id, order)
    return order
  }
  
  async getOrders(): Promise<Order[]> {
    return Array.from(this.orders.values())
      .sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime())
  }
  
  async deleteOrder(id: string): Promise<void> {
    this.orders.delete(id)
  }
}
```

## ğŸ¨ ç”¨æˆ·ç•Œé¢è®¾è®¡

### ç§»åŠ¨ç«¯ç•Œé¢

#### é¦–é¡µè®¾è®¡
```tsx
// ç§»åŠ¨ç«¯é¦–é¡µå¸ƒå±€
<div className="pb-20"> {/* ä¸ºåº•éƒ¨å¯¼èˆªç•™ç©ºé—´ */}
  <header className="sticky top-0 bg-background/80 backdrop-blur-sm">
    <h1 className="text-2xl font-bold p-4">TapLive</h1>
  </header>
  
  <main className="px-4 space-y-4">
    {orders.map(order => (
      <LiveStreamCard 
        key={order.id} 
        order={order}
        onDelete={handleDeleteStream}
      />
    ))}
  </main>
  
  <MobileNav /> {/* åº•éƒ¨å¯¼èˆª */}
</div>
```

#### ç›´æ’­å¡ç‰‡è®¾è®¡
```tsx
// ç›´æ’­å¡ç‰‡ç»„ä»¶
const LiveStreamCard = ({ order, onDelete }) => (
  <Card className="relative overflow-hidden glassmorphism">
    {/* åˆ é™¤æŒ‰é’® */}
    <Button
      onClick={() => onDelete(order.id)}
      className="absolute top-2 right-2 z-10 h-6 w-6 rounded-full bg-red-500 hover:bg-red-600"
      size="sm"
    >
      Ã—
    </Button>
    
    {/* è§†é¢‘é¢„è§ˆ */}
    <div className="aspect-video bg-black rounded-t-lg relative">
      <video 
        className="w-full h-full object-cover"
        poster="/api/placeholder-image" 
      />
      <div className="absolute inset-0 flex items-center justify-center">
        <Play className="w-12 h-12 text-white opacity-70" />
      </div>
    </div>
    
    {/* è®¢å•ä¿¡æ¯ */}
    <CardContent className="p-4">
      <h3 className="font-semibold text-lg">{order.title}</h3>
      <p className="text-muted-foreground text-sm">{order.description}</p>
      <div className="flex justify-between items-center mt-3">
        <span className="text-2xl font-bold text-green-600">
          ${order.price}
        </span>
        <Badge variant="secondary">{order.status}</Badge>
      </div>
    </CardContent>
  </Card>
)
```

### æ¡Œé¢ç«¯ç•Œé¢

#### ç½‘æ ¼å¸ƒå±€
```scss
// æ¡Œé¢ç«¯ç½‘æ ¼å¸ƒå±€
.desktop-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 1.5rem;
  padding: 2rem;
}

@media (min-width: 1024px) {
  .desktop-grid {
    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  }
}
```

### å“åº”å¼è®¾è®¡å®ç°

#### Tailwind CSSæ–­ç‚¹
```scss
// å“åº”å¼æ–­ç‚¹ä½¿ç”¨
.responsive-layout {
  @apply flex flex-col;
  
  @screen sm {
    @apply flex-row;
  }
  
  @screen lg {
    @apply grid grid-cols-2;
  }
  
  @screen xl {
    @apply grid-cols-3;
  }
}
```

## ğŸŒ å›½é™…åŒ–å®ç°

### ç¿»è¯‘ç³»ç»Ÿæ¶æ„

#### ç¿»è¯‘æ•°æ®ç»“æ„
```json
{
  "en": {
    "orders.create.title": "Create New Order",
    "orders.create.button": "Create Order",
    "stream.status.live": "Live",
    "stream.status.ended": "Ended",
    "camera.switch": "Switch Camera"
  },
  "zh": {
    "orders.create.title": "åˆ›å»ºæ–°è®¢å•",
    "orders.create.button": "åˆ›å»ºè®¢å•", 
    "stream.status.live": "ç›´æ’­ä¸­",
    "stream.status.ended": "å·²ç»“æŸ",
    "camera.switch": "åˆ‡æ¢æ‘„åƒå¤´"
  }
}
```

#### ç¿»è¯‘ç»„ä»¶å®ç°
```typescript
// Tç»„ä»¶ï¼šç¿»è¯‘æ–‡æœ¬ç»„ä»¶
export const T = ({ children, values }: { 
  children: string
  values?: Record<string, string | number> 
}) => {
  const { t } = useSimpleTranslation()
  return <>{t(children, values)}</>
}

// ä½¿ç”¨ç¤ºä¾‹
<T>orders.create.title</T>
<T values={{ count: orderCount }}>orders.count.message</T>
```

#### Hookå®ç°
```typescript
// useSimpleTranslation Hook
export const useSimpleTranslation = () => {
  const [language, setLanguage] = useState('en')
  
  const t = useCallback((key: string, values?: Record<string, any>) => {
    const translation = translations[language]?.[key] || key
    
    if (values) {
      return Object.entries(values).reduce(
        (text, [placeholder, value]) => 
          text.replace(`{${placeholder}}`, String(value)),
        translation
      )
    }
    
    return translation
  }, [language])
  
  return { t, language, setLanguage }
}
```

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒé…ç½®

### é¡¹ç›®å¯åŠ¨
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆåŒæ—¶å¯åŠ¨å‰åç«¯ï¼‰
npm run dev

# æ•°æ®åº“è¿ç§»ï¼ˆå¦‚æœä½¿ç”¨æ•°æ®åº“å­˜å‚¨ï¼‰
npm run db:push

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

### ç¯å¢ƒå˜é‡é…ç½®
```env
# å¼€å‘ç¯å¢ƒ (.env.local)
NODE_ENV=development
DATABASE_URL=postgresql://user:pass@localhost:5432/taplive
VITE_API_BASE_URL=http://localhost:5000

# ç”Ÿäº§ç¯å¢ƒ
NODE_ENV=production
DATABASE_URL=your_production_database_url
VITE_API_BASE_URL=https://your-domain.com
```

### å¼€å‘å·¥å…·é…ç½®

#### TypeScripté…ç½®
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "lib": ["DOM", "DOM.Iterable", "ES2020"],
    "allowJs": false,
    "skipLibCheck": true,
    "esModuleInterop": false,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "moduleResolution": "Node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "baseUrl": ".",
    "paths": {
      "@/*": ["./client/src/*"],
      "@shared/*": ["./shared/*"]
    }
  }
}
```

#### Viteé…ç½®
```typescript
// vite.config.ts
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./client/src"),
      "@shared": path.resolve(__dirname, "./shared"),
    },
  },
  server: {
    host: '0.0.0.0',
    port: 5000,
    proxy: {
      '/api': 'http://localhost:3000',
      '/ws': {
        target: 'ws://localhost:3000',
        ws: true,
      },
    },
  },
})
```

## ğŸ“± åŠŸèƒ½æ¼”ç¤ºæµç¨‹

### 1. åˆ›å»ºç›´æ’­è®¢å•
```
1. è®¿é—®é¦–é¡µ â†’ ç‚¹å‡»"åˆ›å»ºæ–°è®¢å•"
2. å¡«å†™è®¢å•ä¿¡æ¯ï¼š
   - æ ‡é¢˜ï¼šå¦‚"åŸƒè²å°”é“å¡”ç°åœºç›´æ’­"
   - æè¿°ï¼šè¯¦ç»†æè¿°ç›´æ’­å†…å®¹
   - ä»·æ ¼ï¼šè®¾å®šæœåŠ¡è´¹ç”¨
   - ä½ç½®ï¼šè‡ªåŠ¨è·å–GPSåæ ‡
3. ç‚¹å‡»"åˆ›å»ºè®¢å•"
4. ç³»ç»Ÿç”Ÿæˆè®¢å•ï¼Œæ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­
```

### 2. å¼€å§‹ç›´æ’­
```
1. ç‚¹å‡»è®¢å•å¡ç‰‡ â†’ è¿›å…¥ç›´æ’­é¡µé¢
2. ç‚¹å‡»"å¼€å§‹åŸç”Ÿç›´æ’­"
3. æˆæƒæ‘„åƒå¤´å’Œéº¦å…‹é£æƒé™
4. ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹è®¾å¤‡çŠ¶æ€
5. å¼€å§‹å®æ—¶è§†é¢‘æµä¼ è¾“
6. æ”¯æŒå‰åæ‘„åƒå¤´åˆ‡æ¢
```

### 3. è§‚çœ‹ç›´æ’­
```
1. å…¶ä»–ç”¨æˆ·è®¿é—®ç›´æ’­é¡µé¢
2. è‡ªåŠ¨è¿æ¥åˆ°ç›´æ’­æµ
3. å®æ—¶è§‚çœ‹è§†é¢‘å†…å®¹
4. æ”¯æŒå¤šè§‚ä¼—åŒæ—¶è§‚çœ‹
5. æ˜¾ç¤ºç›´æ’­çŠ¶æ€å’Œè¿æ¥ä¿¡æ¯
```

### 4. ç®¡ç†è®¢å•
```
1. æŸ¥çœ‹æ‰€æœ‰è®¢å•åˆ—è¡¨
2. æŒ‰çŠ¶æ€ç­›é€‰è®¢å•
3. åˆ é™¤ä¸å½“å†…å®¹ï¼ˆçº¢è‰²XæŒ‰é’®ï¼‰
4. ç¡®è®¤åˆ é™¤æ“ä½œ
5. åˆ—è¡¨è‡ªåŠ¨æ›´æ–°
```

## ğŸ”§ è°ƒè¯•å’Œå¼€å‘å·¥å…·

### WebRTCè°ƒè¯•ä¿¡æ¯
```typescript
// å¼€å‘é˜¶æ®µæ˜¾ç¤ºçš„è°ƒè¯•ä¿¡æ¯
const debugInfo = {
  needsUserClick: boolean,    // æ˜¯å¦éœ€è¦ç”¨æˆ·ç‚¹å‡»
  isStreaming: boolean,       // æ˜¯å¦æ­£åœ¨ç›´æ’­
  isConnected: boolean,       // WebSocketè¿æ¥çŠ¶æ€
  videoPaused: boolean,       // è§†é¢‘æ˜¯å¦æš‚åœ
  streamTracks: number,       // åª’ä½“è½¨é“æ•°é‡
  hasVideo: boolean,          // æ˜¯å¦æœ‰è§†é¢‘å…ƒç´ 
  videoSrc: boolean,          // æ˜¯å¦æœ‰è§†é¢‘æº
}

// å¼ºåˆ¶ä¿®å¤æŒ‰é’®ï¼šå¤„ç†çŠ¶æ€å¼‚å¸¸
const handleStatusFix = () => {
  if (videoRef.current?.paused && !needsUserClick) {
    setNeedsUserClick(true) // è§¦å‘ç”¨æˆ·äº¤äº’ä¿®å¤
  }
}
```

### æ€§èƒ½ç›‘æ§
```typescript
// ç®€å•çš„æ€§èƒ½ç›‘æ§
const performanceMonitor = {
  trackPageLoad: () => {
    const loadTime = performance.now()
    console.log(`é¡µé¢åŠ è½½æ—¶é—´: ${loadTime}ms`)
  },
  
  trackAPICall: (endpoint: string, startTime: number) => {
    const endTime = performance.now()
    console.log(`API ${endpoint} å“åº”æ—¶é—´: ${endTime - startTime}ms`)
  },
  
  trackVideoLatency: (streamId: string) => {
    // WebRTCå»¶è¿Ÿç›‘æ§
  }
}
```

## ğŸš€ éƒ¨ç½²å’Œè¿ç»´

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### Dockerå®¹å™¨åŒ–
```dockerfile
FROM node:20-alpine

WORKDIR /app

# å®‰è£…ä¾èµ–
COPY package*.json ./
RUN npm ci --only=production

# å¤åˆ¶æºç 
COPY . .

# æ„å»ºåº”ç”¨
RUN npm run build

# æš´éœ²ç«¯å£
EXPOSE 5000

# å¯åŠ¨åº”ç”¨
CMD ["npm", "start"]
```

#### ç¯å¢ƒé…ç½®
```yaml
# docker-compose.yml
version: '3.8'
services:
  app:
    build: .
    ports:
      - "5000:5000"
    environment:
      - NODE_ENV=production
      - DATABASE_URL=${DATABASE_URL}
    depends_on:
      - postgres
      
  postgres:
    image: postgres:15
    environment:
      - POSTGRES_DB=taplive
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

### ç›‘æ§å’Œæ—¥å¿—
```typescript
// åº”ç”¨ç›‘æ§
const monitoring = {
  healthCheck: '/api/health',
  metrics: {
    responseTime: 'avg < 200ms',
    errorRate: '< 0.1%',
    uptime: '> 99.9%',
    concurrentUsers: 'current count'
  },
  
  logging: {
    level: 'info',
    format: 'json',
    outputs: ['console', 'file', 'cloudwatch']
  }
}
```

---

**è¿™ä¸ªMVPå®ç°æŒ‡å—è¯¦ç»†è¯´æ˜äº†TapLiveå½“å‰ç‰ˆæœ¬çš„æ‰€æœ‰åŠŸèƒ½å’ŒæŠ€æœ¯å®ç°ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®è¿™ä¸ªæ–‡æ¡£å¿«é€Ÿç†è§£ç³»ç»Ÿæ¶æ„ã€éƒ¨ç½²åº”ç”¨å¹¶è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚MVPç‰ˆæœ¬ä¸ºåç»­åŠŸèƒ½æ‰©å±•å’Œå•†ä¸šåŒ–å¥ å®šäº†åšå®çš„æŠ€æœ¯åŸºç¡€ã€‚**